<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Filtrar Questões</title>
  <link rel="icon" type="image/png" href="imagem.jpeg">
  <img src="imagem.jpeg" class="floating-logo" alt="Logo">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="qc-card">

  <h4>Filtros principais</h4>


  <div class="gr id">
    <select id="materia">
      <option value="">Matéria</option>
      <option value="Matemática">Matemática</option>
      <option value="Português">Português</option>
      <option value="Inglês">Inglês</option>
      <option value="Física">Física</option>
      <option value="Química">Química</option>
      <option value="Biologia">Biologia</option>
    </select>

    <select id="area" disabled>
      <option value="">Área</option>
    </select>

    <select id="assunto" disabled>
      <option value="">Assunto</option>
    </select>
  </div>


  <div class="actions">
    <button class="btn-clear" id="limpar">Limpar</button>
    <button class="btn-primary" id="buscar">Buscar questões</button>
  </div>

  <p id="msg"></p>


  <button id="irQuestoes" class="btn-primary" style="display:none; margin-top:16px;">
    Ver questões filtradas
  </button>

</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script>

const supabaseClient = window.supabase.createClient(
  'https://jsmdszcfgvoczkyfzzvu.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpzbWRzemNmZ3ZvY3preWZ6enZ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY1NDA2MTgsImV4cCI6MjA4MjExNjYxOH0.jsVXgSowIbJJcginBJDliVTJIxY_77-rtsiuM_MbL20'
)


const materia = document.getElementById('materia')
const area = document.getElementById('area')
const assunto = document.getElementById('assunto')
const msg = document.getElementById('msg')
const btnIrQuestoes = document.getElementById('irQuestoes')


const mapa = {
  "Matemática": {
    areas: [
      "Aritmética",
      "Álgebra",
      "Geometria Plana",
      "Geometria Espacial",
      "Trigonometria",
      "Geometria Analítica",
      "Estatística",
      "Probabilidade",
      "Análise Combinatória"
    ],
    assuntos: {
      "Aritmética": [
        "Conjuntos numéricos",
        "Números naturais",
        "Números inteiros",
        "Números racionais",
        "Números irracionais",
        "Números reais",
        "Operações fundamentais",
        "Propriedades das operações",
        "Múltiplos e divisores",
        "Critérios de divisibilidade",
        "MMC",
        "MDC",
        "Frações próprias",
        "Frações impróprias",
        "Frações aparentes",
        "Simplificação de frações",
        "Comparação de frações",
        "Operações com frações",
        "Números decimais",
        "Dízimas periódicas",
        "Conversão fração–decimal",
        "Razão",
        "Proporção",
        "Grandezas proporcionais",
        "Grandezas diretamente proporcionais",
        "Grandezas inversamente proporcionais",
        "Divisão proporcional",
        "Porcentagem",
        "Aumento percentual",
        "Desconto percentual",
        "Porcentagem sucessiva",
        "Juros simples",
        "Problemas de porcentagem",
        "Regra de três simples",
        "Regra de três composta",
        "Potenciação",
        "Propriedades das potências",
        "Radiciação",
        "Racionalização",
        "Notação científica",
        "Ordem de grandeza",
        "Problemas aritméticos"
      ],
      "Álgebra": [
        "Expressões algébricas",
        "Valor numérico",
        "Monômios",
        "Polinômios",
        "Grau de polinômio",
        "Operações com polinômios",
        "Produtos notáveis",
        "Quadrado da soma",
        "Quadrado da diferença",
        "Produto da soma pela diferença",
        "Fatoração algébrica",
        "Fator comum",
        "Agrupamento",
        "Trinômio do segundo grau",
        "Diferença de quadrados",
        "Equações do 1º grau",
        "Problemas do 1º grau",
        "Equações do 2º grau",
        "Fórmula de Bhaskara",
        "Natureza das raízes",
        "Equações fracionárias",
        "Equações literais",
        "Inequações do 1º grau",
        "Sistemas de equações",
        "Sistema 2x2",
        "Sistema 3x3",
        "Problemas com sistemas",
        "Função",
        "Domínio e imagem",
        "Função afim",
        "Coeficiente angular",
        "Coeficiente linear",
        "Gráfico da função afim",
        "Função quadrática",
        "Concavidade",
        "Vértice da parábola",
        "Zeros da função",
        "Gráfico da função quadrática"
      ],
      "Geometria Plana": [
        "Conceitos primitivos",
        "Ponto",
        "Reta",
        "Plano",
        "Semirreta",
        "Segmento de reta",
        "Posições relativas",
        "Ângulos",
        "Classificação dos ângulos",
        "Ângulos complementares",
        "Ângulos suplementares",
        "Ângulos opostos pelo vértice",
        "Polígonos",
        "Classificação dos polígonos",
        "Perímetro",
        "Triângulos",
        "Classificação dos triângulos",
        "Condição de existência",
        "Soma dos ângulos internos",
        "Ângulos externos",
        "Congruência de triângulos",
        "Semelhança de triângulos",
        "Teorema de Tales",
        "Quadriláteros",
        "Paralelogramos",
        "Retângulo",
        "Quadrado",
        "Losango",
        "Trapézio",
        "Circunferência",
        "Raio",
        "Diâmetro",
        "Corda",
        "Arco",
        "Comprimento da circunferência",
        "Área do círculo",
        "Área de figuras planas",
        "Área do triângulo",
        "Área do retângulo",
        "Área do trapézio",
        "Área do losango"
      ],
      "Geometria Espacial": [
        "Sólidos geométricos",
        "Prismas",
        "Pirâmides",
        "Cilindro",
        "Cone",
        "Esfera",
        "Elementos dos sólidos",
        "Área lateral",
        "Área total",
        "Volume do prisma",
        "Volume da pirâmide",
        "Volume do cilindro",
        "Volume do cone",
        "Volume da esfera",
        "Planificação dos sólidos"
      ],
      "Trigonometria": [
        "Razões trigonométricas",
        "Seno",
        "Cosseno",
        "Tangente",
        "Triângulo retângulo",
        "Hipotenusa",
        "Cateto oposto",
        "Cateto adjacente",
        "Ângulos notáveis",
        "Relações fundamentais",
        "Problemas trigonométricos",
        "Lei dos senos",
        "Lei dos cossenos"
      ],
      "Geometria Analítica": [
        "Plano cartesiano",
        "Par ordenado",
        "Distância entre dois pontos",
        "Ponto médio",
        "Coeficiente angular",
        "Equação da reta",
        "Posições relativas entre retas",
        "Circunferência no plano"
      ],
      "Estatística": [
        "Leitura de gráficos",
        "Gráficos de colunas",
        "Gráficos de barras",
        "Gráficos de setores",
        "Tabelas",
        "Frequência absoluta",
        "Frequência relativa",
        "Média aritmética",
        "Média ponderada",
        "Moda",
        "Mediana",
        "Interpretação de dados"
      ],
      "Probabilidade": [
        "Experimento aleatório",
        "Espaço amostral",
        "Evento",
        "Probabilidade clássica",
        "Probabilidade de eventos simples",
        "Eventos complementares",
        "Problemas de probabilidade"
      ],
      "Análise Combinatória": [
        "Princípio fundamental da contagem",
        "Arranjos simples",
        "Permutações simples",
        "Permutações com repetição",
        "Combinações simples",
        "Problemas de contagem"
      ]
    }
  },


  "Português": {
    areas: [
      "Fonética e Fonologia",
      "Morfologia",
      "Sintaxe",
      "Semântica",
      "Ortografia",
      "Interpretação de Texto",
      "Redação",
      "Literatura"
    ],
    assuntos: {
      "Fonética e Fonologia": [
        "Fonema",
        "Letra",
        "Vogais",
        "Consoantes",
        "Semivogais",
        "Encontros vocálicos",
        "Ditongo",
        "Tritongo",
        "Hiato",
        "Encontros consonantais",
        "Dígrafos",
        "Divisão silábica",
        "Classificação silábica",
        "Tonicidade",
        "Oxítona",
        "Paroxítona",
        "Proparoxítona",
        "Monossílabos tônicos",
        "Monossílabos átonos"
      ],
      "Ortografia": [
        "Alfabeto",
        "Uso do H",
        "Uso do X",
        "Uso do CH",
        "Uso do S",
        "Uso do SS",
        "Uso do SC",
        "Uso do Ç",
        "Uso do Z",
        "Emprego do G",
        "Emprego do J",
        "Emprego do C",
        "Emprego do QU",
        "Emprego do GU",
        "Acentuação gráfica",
        "Regras gerais de acentuação",
        "Acentuação das oxítonas",
        "Acentuação das paroxítonas",
        "Acentuação das proparoxítonas",
        "Acentuação dos monossílabos",
        "Acento diferencial",
        "Uso do hífen",
        "Nova ortografia"
      ],
      "Morfologia": [
        "Classe de palavras",
        "Substantivo",
        "Classificação dos substantivos",
        "Flexão do substantivo",
        "Gênero",
        "Número",
        "Grau",
        "Adjetivo",
        "Classificação dos adjetivos",
        "Flexão do adjetivo",
        "Artigo",
        "Numeral",
        "Pronome",
        "Pronomes pessoais",
        "Pronomes possessivos",
        "Pronomes demonstrativos",
        "Pronomes relativos",
        "Verbo",
        "Radical",
        "Tema",
        "Desinências",
        "Conjugação verbal",
        "Tempos verbais",
        "Modos verbais",
        "Vozes verbais",
        "Advérbio",
        "Preposição",
        "Conjunção",
        "Interjeição"
      ],
      "Sintaxe": [
        "Frase",
        "Oração",
        "Período",
        "Sujeito",
        "Predicado",
        "Tipos de sujeito",
        "Predicado verbal",
        "Predicado nominal",
        "Predicado verbo-nominal",
        "Termos essenciais da oração",
        "Termos integrantes",
        "Termos acessórios",
        "Objeto direto",
        "Objeto indireto",
        "Complemento nominal",
        "Adjunto adnominal",
        "Adjunto adverbial",
        "Aposto",
        "Vocativo",
        "Período simples",
        "Período composto",
        "Orações coordenadas",
        "Orações subordinadas",
        "Concordância verbal",
        "Concordância nominal",
        "Regência verbal",
        "Regência nominal",
        "Crase",
        "Colocação pronominal",
        "Pontuação"
      ],
      "Semântica": [
        "Significação das palavras",
        "Sinônimos",
        "Antônimos",
        "Homônimos",
        "Parônimos",
        "Polissemia",
        "Denotação",
        "Conotação",
        "Ambiguidade",
        "Figuras de linguagem",
        "Metáfora",
        "Comparação",
        "Metonímia",
        "Hipérbole",
        "Eufemismo",
        "Ironia",
        "Personificação"
      ],
      "Interpretação de Texto": [
        "Compreensão textual",
        "Ideia principal",
        "Ideias secundárias",
        "Tema",
        "Inferência",
        "Informações explícitas",
        "Informações implícitas",
        "Coesão textual",
        "Coerência textual",
        "Tipologia textual",
        "Texto narrativo",
        "Texto descritivo",
        "Texto dissertativo",
        "Gêneros textuais",
        "Interpretação de charges",
        "Interpretação de tirinhas",
        "Interpretação de gráficos",
        "Interpretação de textos verbais e não verbais"
      ],
      "Redação": [
        "Parágrafo",
        "Estrutura do parágrafo",
        "Introdução",
        "Desenvolvimento",
        "Conclusão",
        "Narrativa",
        "Descrição",
        "Dissertação",
        "Coerência",
        "Coesão",
        "Reescrita de frases",
        "Reescrita de textos",
        "Correção gramatical"
      ],
      "Literatura": [
        "Conceito de literatura",
        "Gêneros literários",
        "Texto literário",
        "Texto não literário",
        "Trovadorismo",
        "Humanismo",
        "Quinhentismo",
        "Barroco",
        "Arcadismo",
        "Romantismo",
        "Realismo",
        "Naturalismo",
        "Parnasianismo",
        "Simbolismo",
        "Pré-Modernismo",
        "Modernismo",
        "Literatura brasileira",
        "Principais autores",
        "Principais obras"
      ]
    }
  },


  "Inglês": {
    areas: [
      "Grammar",
      "Vocabulary",
      "Reading Comprehension",
      "Writing",
      "Interpretation"
    ],
    assuntos: {
      "Grammar": [
        "Verb to be",
        "Subject pronouns",
        "Object pronouns",
        "Possessive adjectives",
        "Possessive pronouns",
        "Articles (a, an, the)",
        "Definite and indefinite articles",
        "Simple present",
        "Present continuous",
        "Simple past",
        "Past continuous",
        "Future will",
        "Future going to",
        "Modal verbs",
        "Can and could",
        "May and might",
        "Must and have to",
        "Imperative",
        "There is / There are",
        "Prepositions of time",
        "Prepositions of place",
        "Prepositions of movement",
        "Plural of nouns",
        "Countable and uncountable nouns",
        "Some and any",
        "Much and many",
        "Comparative adjectives",
        "Superlative adjectives",
        "Adverbs of frequency",
        "Question words (WH-questions)",
        "Tag questions",
        "Passive voice (basic)",
        "Reported speech (introductory)",
        "Conditional zero",
        "Conditional first"
      ],
      "Vocabulary": [
        "Alphabet",
        "Numbers",
        "Colors",
        "Family",
        "School",
        "Subjects",
        "Classroom objects",
        "Daily routine",
        "Time expressions",
        "Food and drinks",
        "Fruits",
        "Vegetables",
        "Sports",
        "Health",
        "Body parts",
        "Clothes",
        "Professions",
        "Jobs",
        "Transportation",
        "Places in the city",
        "House",
        "Furniture",
        "Weather",
        "Seasons",
        "Countries and nationalities",
        "Feelings",
        "Emotions",
        "Hobbies",
        "Technology",
        "Internet vocabulary"
      ],
      "Reading Comprehension": [
        "Text comprehension",
        "Main idea",
        "Supporting details",
        "Explicit information",
        "Implicit information",
        "Context clues",
        "False cognates",
        "Text purpose",
        "Inference",
        "Skimming",
        "Scanning",
        "Interpretation of ads",
        "Interpretation of comics",
        "Interpretation of short texts",
        "Interpretation of emails",
        "Interpretation of notices"
      ],
      "Writing": [
        "Sentence structure",
        "Affirmative sentences",
        "Negative sentences",
        "Interrogative sentences",
        "Short paragraphs",
        "Simple texts",
        "Personal description",
        "Daily routine writing",
        "Opinion sentences"
      ],
      "Interpretation": [
        "Verbal language",
        "Non-verbal language",
        "Mixed texts",
        "Images and symbols",
        "Charts and tables",
        "Short dialogues"
      ]
    }
  },

  "Física": {
    areas: [
      "Introdução à Física",
      "Cinemática",
      "Dinâmica",
      "Trabalho e Energia",
      "Gravitação",
      "Estática",
      "Hidrostática",
      "Termologia",
      "Óptica",
      "Ondulatória",
      "Eletricidade"
    ],
    assuntos: {
      "Introdução à Física": [
        "Grandezas físicas",
        "Grandezas escalares",
        "Grandezas vetoriais",
        "Sistema Internacional de Unidades",
        "Conversão de unidades",
        "Notação científica",
        "Ordem de grandeza",
        "Algarismos significativos",
        "Análise dimensional"
      ],
      "Cinemática": [
        "Movimento e repouso",
        "Referencial",
        "Trajetória",
        "Espaço",
        "Deslocamento",
        "Intervalo de tempo",
        "Velocidade média",
        "Velocidade instantânea",
        "Aceleração média",
        "Aceleração instantânea",
        "Movimento uniforme",
        "Função horária do espaço",
        "Gráficos do MU",
        "Movimento uniformemente variado",
        "Função horária da velocidade",
        "Função horária do espaço no MUV",
        "Gráficos do MUV",
        "Queda livre",
        "Aceleração da gravidade",
        "Lançamento vertical",
        "Lançamento horizontal",
        "Lançamento oblíquo",
        "Movimento circular",
        "Velocidade angular",
        "Período",
        "Frequência",
        "Aceleração centrípeta"
      ],
      "Dinâmica": [
        "Força",
        "Massa",
        "Peso",
        "Leis de Newton",
        "Primeira lei de Newton",
        "Segunda lei de Newton",
        "Terceira lei de Newton",
        "Força normal",
        "Força de atrito",
        "Atrito estático",
        "Atrito dinâmico",
        "Plano inclinado",
        "Diagramas de forças",
        "Força resultante",
        "Aplicações das leis de Newton"
      ],
      "Trabalho e Energia": [
        "Trabalho de uma força",
        "Trabalho motor",
        "Trabalho resistente",
        "Energia",
        "Energia cinética",
        "Energia potencial gravitacional",
        "Energia potencial elástica",
        "Teorema da energia cinética",
        "Conservação da energia",
        "Potência",
        "Rendimento"
      ],
      "Gravitação": [
        "Lei da gravitação universal",
        "Campo gravitacional",
        "Peso",
        "Variação da gravidade",
        "Movimento dos planetas",
        "Leis de Kepler"
      ],
      "Estática": [
        "Equilíbrio dos corpos",
        "Forças concorrentes",
        "Forças paralelas",
        "Momento de uma força",
        "Torque",
        "Condições de equilíbrio",
        "Alavancas",
        "Centro de massa"
      ],
      "Hidrostática": [
        "Densidade",
        "Pressão",
        "Pressão atmosférica",
        "Pressão hidrostática",
        "Teorema de Stevin",
        "Princípio de Pascal",
        "Princípio de Arquimedes",
        "Empuxo",
        "Corpos flutuantes"
      ],
      "Termologia": [
        "Temperatura",
        "Escalas termométricas",
        "Conversão de escalas",
        "Calor",
        "Calor sensível",
        "Calor latente",
        "Mudanças de estado físico",
        "Dilatação térmica",
        "Capacidade térmica",
        "Calor específico",
        "Propagação do calor"
      ],
      "Óptica": [
        "Luz",
        "Fontes luminosas",
        "Propagação da luz",
        "Reflexão da luz",
        "Espelhos planos",
        "Espelhos esféricos",
        "Refração da luz",
        "Índice de refração",
        "Lentes convergentes",
        "Lentes divergentes",
        "Instrumentos ópticos"
      ],
      "Ondulatória": [
        "Ondas",
        "Classificação das ondas",
        "Ondas mecânicas",
        "Ondas eletromagnéticas",
        "Comprimento de onda",
        "Frequência",
        "Período",
        "Velocidade de propagação",
        "Reflexão de ondas",
        "Refração de ondas",
        "Difração",
        "Interferência",
        "Som",
        "Altura",
        "Intensidade",
        "Timbre"
      ],
      "Eletricidade": [
        "Carga elétrica",
        "Processos de eletrização",
        "Corrente elétrica",
        "Tensão elétrica",
        "Resistência elétrica",
        "Lei de Ohm",
        "Associação de resistores",
        "Potência elétrica",
        "Energia elétrica",
        "Consumo de energia elétrica"
      ]
    }
  },

  "Química": {
    areas: [
      "Introdução à Química",
      "Química Geral",
      "Química Inorgânica",
      "Físico-Química",
      "Química Orgânica",
      "Química Ambiental"
    ],
    assuntos: {
      "Introdução à Química": [
        "Conceito de Química",
        "Matéria",
        "Energia",
        "Propriedades da matéria",
        "Propriedades gerais",
        "Propriedades específicas",
        "Estados físicos da matéria",
        "Mudanças de estado físico",
        "Fenômenos físicos",
        "Fenômenos químicos"
      ],
      "Química Geral": [
        "Substâncias puras",
        "Misturas",
        "Misturas homogêneas",
        "Misturas heterogêneas",
        "Sistemas homogêneos",
        "Sistemas heterogêneos",
        "Separação de misturas",
        "Filtração",
        "Decantação",
        "Destilação simples",
        "Destilação fracionada",
        "Centrifugação",
        "Cromatografia",
        "Átomo",
        "Modelos atômicos",
        "Modelo de Dalton",
        "Modelo de Thomson",
        "Modelo de Rutherford",
        "Modelo de Bohr",
        "Número atômico",
        "Número de massa",
        "Isótopos",
        "Isóbaros",
        "Isótonos",
        "Íons",
        "Cátions",
        "Ânions",
        "Distribuição eletrônica",
        "Camadas eletrônicas",
        "Tabela periódica",
        "Classificação dos elementos",
        "Metais",
        "Ametais",
        "Gases nobres",
        "Famílias e períodos"
      ],
      "Química Inorgânica": [
        "Ligações químicas",
        "Ligação iônica",
        "Ligação covalente",
        "Ligação metálica",
        "Polaridade das ligações",
        "Polaridade das moléculas",
        "Fórmulas químicas",
        "Balanceamento de equações",
        "Reações químicas",
        "Classificação das reações",
        "Síntese",
        "Análise",
        "Simples troca",
        "Dupla troca",
        "Óxidos",
        "Óxidos ácidos",
        "Óxidos básicos",
        "Óxidos anfóteros",
        "Óxidos neutros",
        "Ácidos",
        "Classificação dos ácidos",
        "Hidrácidos",
        "Oxiácidos",
        "Bases",
        "Classificação das bases",
        "Sais",
        "Classificação dos sais",
        "Nomenclatura inorgânica",
        "Força dos ácidos e bases",
        "Escala de pH"
      ],
      "Físico-Química": [
        "Transformações químicas",
        "Equações químicas",
        "Balanceamento",
        "Leis ponderais",
        "Lei de Lavoisier",
        "Lei de Proust",
        "Estequiometria",
        "Cálculo com mol",
        "Massa molar",
        "Volume molar",
        "Densidade",
        "Soluções",
        "Concentração comum",
        "Concentração em massa",
        "Diluição",
        "Mistura de soluções",
        "Termoquímica",
        "Reações exotérmicas",
        "Reações endotérmicas",
        "Velocidade das reações",
        "Fatores da cinética química"
      ],
      "Química Orgânica": [
        "Carbono",
        "Hibridação do carbono",
        "Cadeias carbônicas",
        "Classificação das cadeias",
        "Hidrocarbonetos",
        "Alcanos",
        "Alcenos",
        "Alcinos",
        "Aromáticos",
        "Funções orgânicas",
        "Álcoois",
        "Fenóis",
        "Aldeídos",
        "Cetonas",
        "Ácidos carboxílicos",
        "Ésteres",
        "Aminas",
        "Amidas",
        "Nomenclatura orgânica",
        "Isomeria plana",
        "Isomeria espacial",
        "Reações orgânicas"
      ],
      "Química Ambiental": [
        "Poluição do ar",
        "Poluição da água",
        "Poluição do solo",
        "Chuva ácida",
        "Efeito estufa",
        "Aquecimento global",
        "Camada de ozônio",
        "Tratamento da água",
        "Tratamento do lixo",
        "Sustentabilidade"
      ]
    }
  },

  "Biologia": {
    areas: [
      "Introdução à Biologia",
      "Citologia",
      "Bioquímica",
      "Genética",
      "Ecologia",
      "Fisiologia Humana",
      "Botânica",
      "Zoologia",
      "Evolução"
    ],
    assuntos: {
      "Introdução à Biologia": [
        "Conceito de vida",
        "Níveis de organização",
        "Método científico",
        "Características dos seres vivos",
        "Origem da vida",
        "Hipóteses sobre a vida"
      ],
      "Citologia": [
        "Célula",
        "Célula procarionte",
        "Célula eucarionte",
        "Membrana plasmática",
        "Permeabilidade seletiva",
        "Difusão",
        "Osmose",
        "Citoplasma",
        "Organelas celulares",
        "Mitocôndria",
        "Ribossomos",
        "Retículo endoplasmático",
        "Complexo de Golgi",
        "Lisossomos",
        "Centríolos",
        "Núcleo",
        "Cromatina",
        "Cromossomos",
        "Ciclo celular",
        "Mitose",
        "Meiose"
      ],
      "Bioquímica": [
        "Água",
        "Sais minerais",
        "Carboidratos",
        "Lipídios",
        "Proteínas",
        "Vitaminas",
        "Enzimas",
        "Metabolismo",
        "Anabolismo",
        "Catabolismo"
      ],
      "Genética": [
        "DNA",
        "RNA",
        "Código genético",
        "Genes",
        "Cromossomos",
        "Genótipo",
        "Fenótipo",
        "Primeira lei de Mendel",
        "Segunda lei de Mendel",
        "Cruzamentos genéticos",
        "Probabilidade",
        "Hereditariedade",
        "Mutação",
        "Herança ligada ao sexo"
      ],
      "Ecologia": [
        "Ecologia",
        "Ecossistema",
        "Cadeia alimentar",
        "Teia alimentar",
        "Níveis tróficos",
        "Produtores",
        "Consumidores",
        "Decompositores",
        "Fluxo de energia",
        "Ciclos biogeoquímicos",
        "Ciclo da água",
        "Ciclo do carbono",
        "Ciclo do nitrogênio",
        "População",
        "Comunidade",
        "Biomas",
        "Impactos ambientais",
        "Preservação ambiental"
      ],
      "Fisiologia Humana": [
        "Sistema digestório",
        "Sistema respiratório",
        "Sistema circulatório",
        "Sistema excretor",
        "Sistema nervoso",
        "Sistema endócrino",
        "Sistema locomotor",
        "Sistema imunológico",
        "Sistema reprodutor",
        "Saúde humana"
      ],
      "Botânica": [
        "Plantas",
        "Briófitas",
        "Pteridófitas",
        "Gimnospermas",
        "Angiospermas",
        "Raiz",
        "Caule",
        "Folha",
        "Flor",
        "Fruto",
        "Semente",
        "Fotossíntese",
        "Respiração vegetal",
        "Transpiração"
      ],
      "Zoologia": [
        "Animais",
        "Invertebrados",
        "Poríferos",
        "Cnidários",
        "Platelmintos",
        "Nematelmintos",
        "Anelídeos",
        "Moluscos",
        "Artrópodes",
        "Equinodermos",
        "Vertebrados",
        "Peixes",
        "Anfíbios",
        "Répteis",
        "Aves",
        "Mamíferos"
      ],
      "Evolução": [
        "Evolucionismo",
        "Fixismo",
        "Lamarckismo",
        "Darwinismo",
        "Seleção natural",
        "Adaptação",
        "Especiação",
        "Evidências da evolução"
      ]
    }
  }
};


materia.addEventListener('change', () => {
  area.innerHTML = '<option value="">Área</option>'
  assunto.innerHTML = '<option value="">Assunto</option>'

  area.disabled = true
  assunto.disabled = true

  if (!materia.value || !mapa[materia.value]) return

  area.disabled = false

  mapa[materia.value].areas.forEach(areaNome => {
    area.innerHTML += `<option value="${areaNome}">${areaNome}</option>`
  })
})

area.addEventListener('change', () => {
  assunto.innerHTML = '<option value="">Assunto</option>'
  assunto.disabled = true

  if (!materia.value || !area.value) return

  const assuntos =
    mapa[materia.value]?.assuntos?.[area.value]

  if (!assuntos || !Array.isArray(assuntos)) return

  assunto.disabled = false

  assuntos.forEach(nome => {
    assunto.innerHTML += `<option value="${nome}">${nome}</option>`
  })
})



document.getElementById('buscar').addEventListener('click', async () => {
  msg.innerText = ''
  btnIrQuestoes.style.display = 'none'

  let query = supabaseClient.from('questoes').select('id')

  if (materia.value) query = query.eq('materia', materia.value)
  if (area.value) query = query.eq('area', area.value)
  if (assunto.value) query = query.eq('assunto', assunto.value)

  const { data, error } = await query

  if (error) {
    msg.innerText = 'Erro ao buscar questões'
    return
  }

  if (!data || data.length === 0) {
    msg.innerText = 'Nenhuma questão encontrada'
    return
  }

  msg.innerText = `${data.length} questões encontradas`
  btnIrQuestoes.style.display = 'block'


  localStorage.setItem('filtros', JSON.stringify({
    materia: materia.value,
    area: area.value,
    assunto: assunto.value
  }))
})


document.getElementById('limpar').addEventListener('click', () => {
  materia.value = ''
  area.value = ''
  assunto.value = ''
  area.disabled = true
  assunto.disabled = true
  msg.innerText = ''
  btnIrQuestoes.style.display = 'none'
  localStorage.removeItem('filtros')
})


btnIrQuestoes.addEventListener('click', () => {
  window.location.href = 'questoes.html'
})
</script>

</body>
</html>
